{% comment %}
Alert/Toast Message Component
Usage: {% include 'components/alert.html' with type='success' message='Action completed!' %}

Expects:
- type: success, error, warning, info
- message: Alert message text
- Optional: dismissible (boolean, default true)
- Optional: icon (boolean, default true)
- Optional: title (optional heading)
{% endcomment %}

{% with dismissible=dismissible|default:True show_icon=icon|default:True %}

<div class="alert alert-{{ type|default:'info' }} d-flex align-items-start {% if dismissible %}alert-dismissible{% endif %} fade show" 
     role="alert"
     style="background:{% if type == 'success' %}rgba(40,167,69,0.15){% elif type == 'error' or type == 'danger' %}rgba(220,53,69,0.15){% elif type == 'warning' %}rgba(255,193,7,0.15){% else %}rgba(23,162,184,0.15){% endif %};
            border:1px solid {% if type == 'success' %}rgba(40,167,69,0.3){% elif type == 'error' or type == 'danger' %}rgba(220,53,69,0.3){% elif type == 'warning' %}rgba(255,193,7,0.3){% else %}rgba(23,162,184,0.3){% endif %};
            border-radius:8px;">
    
    {% if show_icon %}
    <div class="me-3">
        {% if type == 'success' %}
        <span data-feather="check-circle" class="text-success" style="width:20px;height:20px;"></span>
        {% elif type == 'error' or type == 'danger' %}
        <span data-feather="alert-circle" class="text-danger" style="width:20px;height:20px;"></span>
        {% elif type == 'warning' %}
        <span data-feather="alert-triangle" class="text-warning" style="width:20px;height:20px;"></span>
        {% else %}
        <span data-feather="info" class="text-info" style="width:20px;height:20px;"></span>
        {% endif %}
    </div>
    {% endif %}
    
    <div class="flex-grow-1">
        {% if title %}
        <h6 class="alert-heading mb-1 
            {% if type == 'success' %}text-success{% elif type == 'error' or type == 'danger' %}text-danger{% elif type == 'warning' %}text-warning{% else %}text-info{% endif %}">
            {{ title }}
        </h6>
        {% endif %}
        <p class="mb-0 text-light">{{ message }}</p>
    </div>
    
    {% if dismissible %}
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
    {% endif %}
</div>

{% endwith %}
